<h1>Trajectory Evaluation</h1>
<!-- Small boxes (Stat box) -->
<div class="row">
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-aqua">
	    <div class="inner">
	      <h3>{{vm.evaluation.trajectoryTime}}</h3>
	      <p>{{vm.evaluation.startDateStr}}</p>
	      <h2>{{vm.evaluation.timeInterval}}</h2>
	      <!-- <p>{{vm.evaluation.hourClassification}}</p> -->
	      <p>Night</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-ios-stopwatch"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-green">
	    <div class="inner">
	      <h3>{{vm.evaluation.totalDistance | number:2}} Km</sup></h3>
	      <!-- <p>percorridos</p> -->
	      <p>traveled</p>
	      <h2>{{vm.evaluation.mainStreet}}</h2>
	      <p>Main road</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-android-navigate"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-yellow">
	    <div class="inner">
	      <h3>{{vm.evaluation.avgSpeed | number:2}} km/h</h3>
	      <p>Avg speed</p>
	      <h2>{{vm.evaluation.maxSpeed | number:2}} km/h</h2>
	      <p>Max speed</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-speedometer"></i>
	    </div>
	    <a ui-sref="trajectory-telemetry({id: vm.evaluation.evaluationId})" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-red">
	    <div class="inner">
	      <h3>{{vm.evaluation.avgAcc | number:2}} m/s²</h3>
	      <p>Avg Acceleration</p>	
	      <h4>{{vm.evaluation.maxAcc | number:2}} m/s² | {{vm.evaluation.maxDec | number:2}} m/s²</h4>
	      <p>Max acceleration | deceleration</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-arrow-graph-up-right"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
</div><!-- /.row -->

<!-- Second row -->
<div class="row">
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-aqua">
	    <div class="inner">
	      <h3>{{vm.evaluation.riskAlerts/vm.evaluation.totalDistance | number:2}}</h3>
	      <p>Alerts per Km</p>
	      <h2>{{vm.evaluation.riskAlerts}}</h2>
	      <p>Total alerts</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-alert-circled"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-green">
	    <div class="inner">
	      <h3>{{vm.evaluation.speedChanges/vm.evaluation.totalDistance | number:2}}</sup></h3>
	      <p>Acceleration changes per Km</p>
	      <h2>{{vm.evaluation.speedChanges}}</h2>
	      <p>Total changes</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-arrow-swap fa-rotate-90"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-yellow">
	    <div class="inner">
	      <h3>{{vm.evaluation.agressiveIndex | number:2}}</h3>
	      <p>Aggressive Index</p>
	      <h2>{{vm.evaluation.maxAgressiveIndex | number:2}}</h2>
	      <p>Max Aggressive Index</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-stats-bars"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->

	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-red">
	    <div class="inner">
	      <h3></h3>
	      <p>{{vm.evaluation.wheatherCondition}}</p>
		  <h4>{{vm.evaluation.speedAgressiveIndex | number:2}} | 
		  	{{vm.evaluation.speedAvgIndex | number:2}} |
		  	{{(vm.evaluation.speedAgressiveIndex * 0.6) + (vm.evaluation.speedAvgIndex * 0.4)  | number:2}}
		  </h4>
	      <p>Speed Indexes</p>

	      <h4>{{vm.evaluation.accAvgIndex | number:2}} |
	       {{vm.evaluation.accAgressiveIndex | number:2}} |
	       {{ (vm.evaluation.accAgressiveIndex * 0.6) + (vm.evaluation.accAvgIndex * 0.4) | number:2}}
	   	  </h4>

	   	  <h4></h4>
		{{  ( ((vm.evaluation.accAgressiveIndex * 0.6) + (vm.evaluation.accAvgIndex * 0.4)) 
		  +  ((vm.evaluation.speedAgressiveIndex * 0.6) + (vm.evaluation.speedAvgIndex * 0.4)) ) /2 | number:2 }}

	      <p>Acc Indexes</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-ios-cloudy-night"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
</div><!-- /.row -->

<strong>Distribuição da Velocidade:</strong><br/>
<!-- Dentro do limite: {{vm.evaluation.speedUnderLimitCount}}<br/>
De 10% até 20%: {{vm.evaluation.speed10To20LimitCount}}<br/>
De 20% até 50%: {{vm.evaluation.speed21UpTo50LimitCount}}<br/>
Acima de 50%: {{vm.evaluation.speed51UpLimitCount}}<br/><br/>
-->
<table class="table table-striped">
	<tr>
		<th>Limite</td>
		<th>Total</td>
		<th>Percentual</td>
		<th>Média</td>
	</tr>
	<tr>
		<td>Dentro do limite</td>
		<td>{{vm.evalSpeed[0].count}}</td>
		<td>{{vm.evalSpeed[0].percent | number:2}}%</td>
		<td>{{vm.evalSpeed[0].avg | number:2}}</td>
	</tr>
	<tr>
		<td>Até 10% do limite</td>
		<td>{{vm.evalSpeed[1].count}}</td>
		<td>{{vm.evalSpeed[1].percent | number:2}}%</td>
		<td>{{vm.evalSpeed[1].avg | number:2}}</td>
	</tr>
	<tr>
		<td>De 10% até 20%</td>
		<td>{{vm.evalSpeed[2].count}}</td>
		<td>{{vm.evalSpeed[2].percent | number:2}}%</td>
		<td>{{vm.evalSpeed[2].avg | number:2}}</td>
	</tr>
	<tr>
		<td>De 20% até 50%</td>
		<td>{{vm.evalSpeed[3].count}}</td>
		<td>{{vm.evalSpeed[3].percent | number:2}}%</td>
		<td>{{vm.evalSpeed[3].avg | number:2}}</td>
	</tr>
	<tr>
		<td>Acima de 50%</td>
		<td>{{vm.evalSpeed[4].count}}</td>
		<td>{{vm.evalSpeed[4].percent | number:2}}%</td>
		<td>{{vm.evalSpeed[4].avg | number:2}}</td>
	</tr>
</table>


<strong>Distribuição da Aceleração (Avg: {{vm.evaluation.accEvaluation.fullAvg | number: 2}} | Acc Avg: {{vm.evaluation.accEvaluation.accAvg | number: 2}} | Dec Avg: {{vm.evaluation.accEvaluation.desaccAvg | number: 2}}):</strong>

<table class="table table-striped">
	<tr>
		<th>Limite</td>
		<th>Total</td>
		<th>Média</td>
	</tr>
	<tr ng-repeat="accLimit in vm.evaluation.accEvaluation.limitCount">
		<td>{{accLimit.description}}</td>
		<td>{{accLimit.count}}</td>
		<td>{{accLimit.avg | number: 2}}</td>
	</tr>
</table>

<!--
<ul class="list-unstyled" ng-repeat="accLimit in vm.evaluation.accEvaluation.limitCount">
<li>{{accLimit.description}}: {{accLimit.count}} - AVG({{accLimit.avg | number: 2}})</li>
</ul>
-->


<hr>

<a ui-sref="trajectory-map({evaluationId: vm.evaluation.evaluationId})">Mapa - Trajetória</a>
 | <a ui-sref="trajectory-map({evaluationId: vm.evaluation.evaluationId, mode: 'dots'})">Mapa - Coordenadas</a>
 | <a ui-sref="trajectory-coordinates({evaluationId: vm.evaluation.evaluationId})">Coordenadas</a>