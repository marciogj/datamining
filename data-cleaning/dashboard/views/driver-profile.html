<h1>Driver Profile</h1>

<div class="row">
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-yellow">
	    <div class="inner">
	      <h3>{{vm.driverProfile.alerts/vm.driverProfile.traveledDistance | number:2}}</h3>
	      <p>Alerts per Km</p>
	      <h2>{{vm.driverProfile.alerts}}</h2>
	      <p>Total alerts</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-alert-circled"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
	
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-yellow">
	    <div class="inner">
	      <h3>{{vm.driverProfile.aggressiveIndex | number : 2}}</h3>
	      <p>Avg Aggressive index</p>
	      <h2>{{vm.driverProfile.maxAggressiveIndex | number: 2}}</h2>
	      <p>Max Aggressive Index</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-stats-bars"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->

<!-- </div> -->  <!-- /.row -->
<!-- Second row -->
<!-- <div class="row"> -->
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-aqua">
	    <div class="inner">
	      <h3>{{ (vm.driverProfile.traveledTimeSeconds/60)/vm.driverProfile.trajectoryCount | number: 2}} min</h3>
	      <p>Trajectory average time</p>

	      <h2>{{vm.driverProfile.traveledTime}}</h2>
	      <p>Traveled time</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-ios-stopwatch"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
	<div class="col-lg-3 col-xs-6">
	  <!-- small box -->
	  <div class="small-box bg-aqua">
	    <div class="inner">
	      <h3>{{vm.driverProfile.traveledDistance / vm.driverProfile.trajectoryCount | number: 2}} Km</h3>
	      <p>Trajectory average distance</p>
	      <h2>{{vm.driverProfile.traveledDistance | number: 2}} Km</h2>
	      <p>Traveled Distance</p>
	    </div>
	    <div class="icon">
	      <i class="ion ion-android-navigate"></i>
	    </div>
	    <a href="#" class="small-box-footer">Details <i class="fa fa-arrow-circle-right"></i></a>
	  </div>
	</div><!-- ./col -->
</div><!-- /.row -->

<div>
	<h2>Trajectories ({{vm.trajectories.length}})</h2>
	<table class="table table-striped">
		<tr>
			<td>Id</td>
			<td>Start</td>
			<td>End</td>
			<td>Distance (km)</td>
			<td>Total Time</td>
			<td>Coordinates</td>
			<td>Avg Speed (Km/h)</td>
			<td>Aggressive Index</td>
		</tr>
		
		<tr ng-repeat="trajectory in vm.trajectories">
			<td><a ui-sref="trajectory-evaluation({id: trajectory.evaluationId})">{{$index + 1}}</a></td>
			<td>{{trajectory.startDateTime | date:'d MMM HH:mm:ss'}}</td>
			<td>{{trajectory.endDateTime | date:'d MMM HH:mm:ss'}}</td>
			<td>{{trajectory.totalDistance | number:2}}</td>
			<td>{{trajectory.trajectoryTime}}</td>
			<td>{{trajectory.coordinateCount}}</td>
			<td><a ui-sref="trajectory-telemetry({id: trajectory.evaluationId})">{{trajectory.avgSpeed | number:2}}</a></td>
			<td>{{trajectory.agressiveIndex | number:2}}</td>
		</tr>
	</table>
</div>